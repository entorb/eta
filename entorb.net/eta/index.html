<!doctype html>
<html lang="en">
<!--
TODOs
- layout tuning
- layout for mobile tuning
- info texts / tooltips?
- button to hide intro text
-->

<head>
    <title>ETA - estimated time of arrival</title>
    <meta charset="utf-8">
    <meta name="author" content="Dr. Torben Menke">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="stopwatch/estimate the time of arrival for those who hate waiting">
    <meta name="keywords" content="eta, stopwatch, items per minute, chart, estimated time of arrival, idle game countdown">
    <!-- Tabulator https://tabulator.info/ https://tabulator.info/docs/ -->
    <link href="lib/tabulator.min.css" rel="stylesheet">
    <script src="lib/tabulator-5.4.min.js"></script>
    <!-- eCharts https://echarts.apache.org/ https://echarts.apache.org/en/option.html-->
    <script src="lib/echarts-5.4.1.min.js"></script>
    <!-- my JavaScript -->
    <script src="main.js" defer></script>
    <link href="css.css" rel="stylesheet">
    <!-- Matomo Access Stats -->
    <script>
        var _paq = window._paq = window._paq || [];
        /* tracker methods like \"setCustomDimension\" should be called before \"trackPageView\" */
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function () {
            var u = "https://entorb.net/stats/matomo/";
            _paq.push(['setTrackerUrl', u + 'matomo.php']);
            _paq.push(['setSiteId', '1']);
            var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0];
            g.async = true; g.src = u + 'matomo.js'; s.parentNode.insertBefore(g, s);
        })();
    </script>
    <!-- End Matomo Code -->
</head>

<body>

    <h1>ETA - estimated time of arrival</h1>
    <div id="text_intro">
        <a id="a_hide_intro" title="Click to hide intro text" href="#" onclick="hide_intro();return false;">hide intro</a>

        <p>This tool answers the question "How long the fuck do I have to wait?!"<br> Examples: standing in a queue, waiting for a process to finish, ...</p>
        <table>
            <tr>
                <td>Countdown</td>
                <td>mode:</td>
                <td>set target = 0</td>
                <td>and enter decreasing</td>
                <td>item counts until 0</td>
            </tr>
            <tr>
                <td style="text-align: right">Countup</td>
                <td>mode:</td>
                <td>set target &gt; 0</td>
                <td>and enter increasing</td>
                <td>item counts until target</td>
            </tr>
        </table>

        <p><a href="https://github.com/entorb/tools/tree/main/entorb.net/eta" target="_blank">Source code</a> is open, <a href="/contact.php?origin=ETA">feedback</a> is appreciated.</p>
    </div>

    <p>1. Setup</p>
    <table>
        <tr>
            <td>Target</td>
            <td><input id="input_target" type="number" min="0" style="text-align: right; font-size:20px; width: 100px;"></td>
            <td><button id="btn3" onclick="setTarget()">Set</button></td>
        </tr>
    </table>

    <p>2. Input</p>
    <input id="input_items" type="number" min="0" style="text-align: right; font-size:20px; width: 100px;">
    <button id="btn1" onclick="add()">Add</button> &nbsp;&nbsp;&nbsp; <button id="btn2" onclick="reset()">Delete All</button>
    <!-- style="font-size:20px" -->

    <p>3. Forecast</p>
    <table>
        <tr>
            <td>ETA</td>
            <td id="text_eta"><span hidden>21.2.2023, 05:02:20</span></td>
            <td>Remaining</td>
            <td id="text_remaining"><span hidden>05:02:20</span></td>
        </tr>
        <tr>
            <td>Start</td>
            <td id="text_start">&nbsp;</td>
            <td>Runtime</td>
            <td id="text_runtime">&nbsp;</td>
        </tr>
        <tr>
            <td>Percent</td>
            <td id="text_pct">&nbsp;</td>
            <td>Speed</td>
            <td id="text_items_p_min">&nbsp;</td>
        </tr>
    </table>
    <!-- Tabulator table -->
    <div id="div_table" style="width: 900px;height:400px;"></div>
    <!-- eCharts chart -->
    <div id="div_chart" style="width: 900px;height:400px;"></div>
    <hr>

    <h3>Export and Import</h3>
    <a id="downloadAnchor" style="display:none"></a>
    <button id="download_data" onclick="download_data()">Export</button> and Import: <input id="upload_data" type="file" onchange="upload_data(this)">
    <!-- footer -->
    <hr>
    <a href="/">Home</a> - <a href="/contact.php?origin=ETA">Contact</a> - <a href="/impressum.php">Impressum</a>
</body>

</html>